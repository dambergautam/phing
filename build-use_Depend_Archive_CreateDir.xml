<?xml version="1.0" encoding="UTF-8"?>
<project name="phpbuild" default="archive" basedir="." description="this is phing demo">
  <!-- Define variable -->
  <property name="message" value ="Welcome to PHP awesome build too 'PHING'"/>
  <property name="fileLoc" value ="css"/>
  <property name="dirLoc" value ="js"/>

  <!-- define task -print message | command : $ phing welcome -->
  <target name="welcome">
   <echo msg = "${message}"/>
  </target>

  <!-- define task - parepare to perform copyfile task -->
  <target name="prepare">
      <echo msg="Making directory ./new-folder" />
      <mkdir dir="./new-folder" />
  </target>

  <!-- define task- copy file | command : $ phing copyfile -->
  <target name="copyfile" depends="prepare">
    <echo msg="File are being copied.. " />
    <copy file="./index.php" tofile="./new-folder/new-index.php" />
  </target>

  <!-- define task -archive dir | command : $ phing archive (default)-->
  <target name="archive" depends="copyfile">
    <echo msg="creating archive" />
    <tar destfile="./new-folder/myarchive.tar.gz" compression="gzip">
      <fileset dir="./new-folder" />
    </tar>
  </target>

  <echo msg="All done!" />
</project>
